{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/img/error.svg","../src/main.js"],"sourcesContent":["// функції для HTTP-запитів\n\nexport default function getPictures(name) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42676798-23985956bba61249a12f13dde';\n\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${name}&image_type=photo&orientation=horizontal&safesearch =true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n\n    return res.json();\n  });\n}\n","// функції для відображення елементів інтерфейсу\nexport default function renderGallery(array, element) {\n  const galleryMarkup = array.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\"\n              ><img\n                class=\"gallery-img\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                width=\"360\"\n                height=\"152\"\n            /></a>\n            <ul class=\"data-list\">\n              <li class=\"data-item likes\">\n                <p class=\"data-name\">Likes</p>\n                <p class=\"data-value\">${likes}</p>\n              </li>\n              <li class=\"data-item views\">\n                <p class=\"data-name\">Views</p>\n                <p class=\"data-value\">${views}</p>\n              </li>\n              <li class=\"data-item comments\">\n                <p class=\"data-name\">Comments</p>\n                <p class=\"data-value\">${comments}</p>\n              </li>\n              <li class=\"data-item downloads\">\n                <p class=\"data-name\">Downloads</p>\n                <p class=\"data-value\">${downloads}</p>\n              </li>\n            </ul>\n          </li>\n`\n    )\n    .join('');\n\n  element.insertAdjacentHTML('beforeend', galleryMarkup);\n\n  element.classList.remove('hidden');\n}\n","export default \"__VITE_ASSET__8479b7dd__\"","// imports\nimport getPictures from './js/pixabay-api';\nimport renderGallery from './js/render-function';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport errorIcon from './img/error.svg';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// search pictures\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(e) {\n  e.preventDefault();\n\n  deleteGallery();\n\n  visibleLoader();\n\n  const form = e.target;\n  const searchTag = form.elements.tag.value;\n\n  getPictures(searchTag)\n    .then(res => {\n      if (res.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n\n          iconUrl: errorIcon,\n\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n        });\n      } else {\n        renderGallery(res, gallery);\n        hiddenLoader();\n        lightbox.refresh();\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nfunction deleteGallery() {\n  gallery.innerHTML = '';\n  gallery.classList.add('hidden');\n}\n\nfunction visibleLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hiddenLoader() {\n  loader.classList.add('hidden');\n}\n\n// event on gallery\ngallery.addEventListener('click', handleLinkClick);\n\nfunction handleLinkClick(event) {\n  event.preventDefault();\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n}\n"],"names":["getPictures","name","res","renderGallery","array","element","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","errorIcon","searchForm","gallery","loader","lightbox","SimpleLightbox","handleSearch","e","deleteGallery","visibleLoader","searchTag","iziToast","hiddenLoader","err","handleLinkClick","event"],"mappings":"6vBAEe,SAASA,EAAYC,EAAM,CAIxC,OAAO,MACL,qEAAgCA,CAAI,2DACxC,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAGhC,OAAOA,EAAI,MACf,CAAG,CACH,CCde,SAASC,EAAcC,EAAOC,EAAS,CACpD,MAAMC,EAAgBF,EAAM,KACzB,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,4CAEgCL,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAOaC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAK5C,EACA,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaC,CAAa,EAErDD,EAAQ,UAAU,OAAO,QAAQ,CACnC,CChDA,MAAeS,EAAA,2CCYTC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAGDJ,EAAW,iBAAiB,SAAUK,CAAY,EAElD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhBC,IAEAC,IAGA,MAAMC,EADOH,EAAE,OACQ,SAAS,IAAI,MAEpCrB,EAAYwB,CAAS,EAClB,KAAKtB,GAAO,CACPA,EAAI,KAAK,SAAW,EACtBuB,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,YAAa,OAEb,QAASX,EAET,SAAU,WACV,gBAAiB,SAC3B,CAAS,GAEDX,EAAcD,EAAKc,CAAO,EAC1BU,IACAR,EAAS,QAAO,EAExB,CAAK,EACA,MAAMS,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CAEA,SAASL,GAAgB,CACvBN,EAAQ,UAAY,GACpBA,EAAQ,UAAU,IAAI,QAAQ,CAChC,CAEA,SAASO,GAAgB,CACvBN,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASS,GAAe,CACtBT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAGAD,EAAQ,iBAAiB,QAASY,CAAe,EAEjD,SAASA,EAAgBC,EAAO,CAC9BA,EAAM,eAAc,EAChBA,EAAM,OAAO,QAGnB"}